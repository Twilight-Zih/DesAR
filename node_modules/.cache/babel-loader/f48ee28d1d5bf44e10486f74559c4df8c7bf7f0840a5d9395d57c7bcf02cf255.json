{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZIHAB\\\\OneDrive\\\\Desktop\\\\Final Year Mesh&Zih\\\\DesAR\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport * as THREE from \"three\";\nimport { ARButton } from \"three/examples/jsm/webxr/ARButton\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { XREstimatedLight } from \"three/examples/jsm/webxr/XREstimatedLight\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  let reticle;\n  let hitTestSource = null;\n  let hitTestSourceRequested = false;\n  let scene, camera, renderer;\n  const [showRotateButtons, setShowRotateButtons] = useState(false);\n  const [itemSelectedIndex, setItemSelectedIndex] = useState(0);\n  let models = [\"./dylan_armchair_yolk_yellow.glb\", \"./ivan_armchair_mineral_blue.glb\", \"./marble_coffee_table.glb\", \"./flippa_functional_coffee_table_w._storagewalnut.glb\", \"./frame_armchairpetrol_velvet_with_gold_frame.glb\", \"./elnaz_nesting_side_tables_brass__green_marble.glb\"];\n  let modelScaleFactor = [0.01, 0.01, 0.005, 0.01, 0.01, 0.01];\n  let items = [];\n  let controller;\n  init();\n  setupFurnitureSelection();\n  animate();\n  function init() {\n    // Initialization code...\n  }\n  function onSelect() {\n    if (reticle.visible) {\n      let newModel = items[itemSelectedIndex].clone();\n      newModel.visible = true;\n      reticle.matrix.decompose(newModel.position, newModel.quaternion, newModel.scale);\n      let scaleFactor = modelScaleFactor[itemSelectedIndex];\n      newModel.scale.set(scaleFactor, scaleFactor, scaleFactor);\n      scene.add(newModel);\n\n      // Show the rotate buttons\n      setShowRotateButtons(true);\n    }\n  }\n  function onClicked(e, selectItem, index) {\n    setItemSelectedIndex(index);\n    // Other code...\n  }\n\n  function setupFurnitureSelection() {\n    for (let i = 0; i < models.length; i++) {\n      const el = document.querySelector(`#item` + i);\n      el.addEventListener(\"beforexrselect\", e => {\n        e.preventDefault();\n        e.stopPropagation();\n      });\n      el.addEventListener(\"click\", e => {\n        e.preventDefault();\n        e.stopPropagation();\n        onClicked(e, items[i], i);\n      });\n    }\n  }\n\n  // Function to rotate object\n  const rotateObject = direction => {\n    const rotationAngle = direction === \"left\" ? Math.PI / 20 : -Math.PI / 20; // Adjust angle as necessary\n    if (selectedObject) {\n      selectedObject.rotation.y += rotationAngle; // Update the rotation based on your selected object\n    }\n  };\n\n  function animate() {\n    renderer.setAnimationLoop(render);\n  }\n  function render() {\n    // Rendering code...\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"place-button\",\n      onClick: placeObject,\n      disabled: itemSelectedIndex < 0 // Disable if no item is selected\n      ,\n      children: \"Place Object\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), showRotateButtons && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"rotate-button rotate-left\",\n        onClick: () => rotateObject(\"left\"),\n        children: \"\\u2B05\\uFE0F Rotate Left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"rotate-button rotate-right\",\n        onClick: () => rotateObject(\"right\"),\n        children: \"\\u27A1\\uFE0F Rotate Right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"8NHc5zAVrdMi+INhPba5B8qdjtI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["THREE","ARButton","GLTFLoader","XREstimatedLight","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","reticle","hitTestSource","hitTestSourceRequested","scene","camera","renderer","showRotateButtons","setShowRotateButtons","itemSelectedIndex","setItemSelectedIndex","models","modelScaleFactor","items","controller","init","setupFurnitureSelection","animate","onSelect","visible","newModel","clone","matrix","decompose","position","quaternion","scale","scaleFactor","set","add","onClicked","e","selectItem","index","i","length","el","document","querySelector","addEventListener","preventDefault","stopPropagation","rotateObject","direction","rotationAngle","Math","PI","selectedObject","rotation","y","setAnimationLoop","render","className","children","onClick","placeObject","disabled","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ZIHAB/OneDrive/Desktop/Final Year Mesh&Zih/DesAR/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport * as THREE from \"three\";\nimport { ARButton } from \"three/examples/jsm/webxr/ARButton\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { XREstimatedLight } from \"three/examples/jsm/webxr/XREstimatedLight\";\nimport { useState } from 'react';\n\nfunction App() {\n  let reticle;\n  let hitTestSource = null;\n  let hitTestSourceRequested = false;\n\n  let scene, camera, renderer;\n\n  const [showRotateButtons, setShowRotateButtons] = useState(false);\n  const [itemSelectedIndex, setItemSelectedIndex] = useState(0);\n  \n  let models = [\n    \"./dylan_armchair_yolk_yellow.glb\",\n    \"./ivan_armchair_mineral_blue.glb\",\n    \"./marble_coffee_table.glb\",\n    \"./flippa_functional_coffee_table_w._storagewalnut.glb\",\n    \"./frame_armchairpetrol_velvet_with_gold_frame.glb\",\n    \"./elnaz_nesting_side_tables_brass__green_marble.glb\",\n  ];\n  let modelScaleFactor = [0.01, 0.01, 0.005, 0.01, 0.01, 0.01];\n  let items = [];\n  let controller;\n\n  init();\n  setupFurnitureSelection();\n  animate();\n\n  function init() {\n    // Initialization code...\n  }\n\n  function onSelect() {\n    if (reticle.visible) {\n      let newModel = items[itemSelectedIndex].clone();\n      newModel.visible = true;\n      reticle.matrix.decompose(\n        newModel.position,\n        newModel.quaternion,\n        newModel.scale\n      );\n      let scaleFactor = modelScaleFactor[itemSelectedIndex];\n      newModel.scale.set(scaleFactor, scaleFactor, scaleFactor);\n\n      scene.add(newModel);\n\n      // Show the rotate buttons\n      setShowRotateButtons(true);\n    }\n  }\n\n  function onClicked(e, selectItem, index) {\n    setItemSelectedIndex(index);\n    // Other code...\n  }\n\n  function setupFurnitureSelection() {\n    for (let i = 0; i < models.length; i++) {\n      const el = document.querySelector(`#item` + i);\n      el.addEventListener(\"beforexrselect\", (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      });\n      el.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        onClicked(e, items[i], i);\n      });\n    }\n  }\n\n  // Function to rotate object\n  const rotateObject = (direction) => {\n    const rotationAngle = direction === \"left\" ? Math.PI / 20 : -Math.PI / 20; // Adjust angle as necessary\n    if (selectedObject) {\n      selectedObject.rotation.y += rotationAngle; // Update the rotation based on your selected object\n    }\n  };\n\n  function animate() {\n    renderer.setAnimationLoop(render);\n  }\n\n  function render() {\n    // Rendering code...\n  }\n\n  return (\n    <div className=\"App\">\n      <button\n        className=\"place-button\"\n        onClick={placeObject}\n        disabled={itemSelectedIndex < 0} // Disable if no item is selected\n      >\n        Place Object\n      </button>\n\n      {showRotateButtons && (\n        <>\n          <button\n            className=\"rotate-button rotate-left\"\n            onClick={() => rotateObject(\"left\")}\n          >\n            ⬅️ Rotate Left\n          </button>\n          <button\n            className=\"rotate-button rotate-right\"\n            onClick={() => rotateObject(\"right\")}\n          >\n            ➡️ Rotate Right\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}